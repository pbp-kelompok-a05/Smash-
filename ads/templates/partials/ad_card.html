<div class="group border border-gray-200 rounded-2xl overflow-hidden shadow hover:shadow-md transition bg-white"
     data-id="{{ ad.id }}">

  <!-- Gambar -->
  {% if ad.image %}
    <img src="{{ ad.image.url }}" alt="{{ ad.title }}" class="w-full h-44 object-cover">
  {% else %}
    <div class="w-full h-44 bg-gray-100 flex items-center justify-center text-gray-400 text-sm">
      Tidak ada gambar
    </div>
  {% endif %}

  <!-- Konten -->
  <div class="p-5 space-y-1">
    <!-- Judul -->
    <h3 class="font-semibold text-gray-800 text-sm truncate">
      {{ ad.title|default:"(Tanpa Judul)" }}
    </h3>

    <!-- Delay -->
    <p class="text-gray-500 text-xs">⏱️ Delay: {{ ad.popup_delay_seconds|default:"0" }} detik</p>

    <!-- Link -->
    {% if ad.link %}
      <a href="{{ ad.link }}" target="_blank"
         class="block text-blue-600 hover:text-blue-800 text-sm underline">
        🌐 Lihat Link
      </a>
    {% else %}
      <p class="text-xs text-gray-400 italic">Tidak ada link</p>
    {% endif %}

    <!-- Tanggal -->
    <p class="text-xs text-gray-400">🗓️ {{ ad.created_at|date:"d M Y, H:i" }}</p>

    <!-- Tombol & Status -->
    <div class="pt-3 flex items-center justify-between border-t border-gray-100 mt-3 pt-3">
      <!-- Tombol Aktif/Nonaktif -->
      <button type="button"
              class="toggle-status text-xs font-medium cursor-pointer transition-colors
                     {% if ad.active %}text-green-600{% else %}text-gray-400{% endif %}"
              data-url="{% url 'toggle_ad' ad.id %}">
        {% if ad.active %}🟢 Aktif{% else %}⚪ Nonaktif{% endif %}
      </button>

      <!-- Tombol Edit / Hapus -->
      <div class="flex gap-3 text-sm">
        <button type="button"
                class="edit-ad text-yellow-500 hover:text-yellow-600 transition"
                data-url="{% url 'edit_ad' ad.id %}"
                data-id="{{ ad.id }}"
                data-title="{{ ad.title|escapejs }}"
                data-link="{{ ad.link|default_if_none:'' }}"
                data-delay="{{ ad.popup_delay_seconds }}">
          ✏️ Edit
        </button>

        <button type="button"
                class="delete-ad text-red-500 hover:text-red-700 transition"
                data-url="{% url 'delete_ad' ad.id %}">
          🗑️ Hapus
        </button>
      </div>
    </div>
  </div>
</div>
